<main class="h-full w-full">
  <header class="flex flex-col justify-center h-fit pb-3 mb-8 bg-[#f5f5f5]">
    <div class="trapezoid self-end"></div>
    <div
      class="absolute w-[97%] py-5 pl-20 self-center bg-[#00328b] flex justify-between items-center pr-8"
    >
      <div class="text-3xl font-normal text-white z-10 font-serif">
        <h1>Agenda de Pacientes</h1>
      </div>
    </div>
  </header>
  <section class="bg-red-50 mx-auto md:w-[80%] lg:w-[80%]">
    <p-table
      [value]="appointments()"
      [loading]="appointmentsLoading()"
      stripedRows
      [paginator]="true"
      [rows]="5"
      [scrollable]="true"
      scrollHeight="400px"
      [tableStyle]="{ 'min-width': '50rem' }"
      styleClass="table-background"
      class="bg-gray-200"
    >
      <ng-template #header>
        <tr>
          <th>Cita No.</th>
          <th>Fecha de la cita</th>
          <th>Paciente</th>
          <th>Servicio</th>
          <th>Atender</th>
        </tr>
      </ng-template>
      <ng-template #body let-appointment>
        <tr>
          <td>{{ appointment.IdCita }}</td>
          <td>{{ appointment.FechaCita }}</td>
          <td>{{ appointment.Paciente }}</td>
          <td>{{ appointment.Servicio }}</td>
          <td>
            <button
              pButton
              pRipple
              type="button"
              size="small"
              text
            >
              <a [routerLink]="`medical-record/${appointment.IdPaciente}`"><i class="pi pi-arrow-up-right"></i></a>
            </button>
          </td>
        </tr>
      </ng-template>
      <ng-template #loadingBodyTemplate>
        <tr>
          <td colspan="5" class="text-center">
            <i class="pi pi-spin pi-spinner" style="font-size: 2rem"></i>
            <p>Cargando datos...</p>
          </td>
        </tr>
      </ng-template>
    </p-table>
  </section>
</main>
